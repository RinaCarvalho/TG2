{"prompt": "Ally and Billy were given an assignment to tidy up their bookshelf of n books. Each book is represented by the book title \u2014 a string s_i numbered from 1 to n, each with length m. Ally really wants to sort the book lexicographically ascending, while Billy wants to sort it lexicographically descending.\n\nSettling their fight, they decided to combine their idea and sort it asc-desc-endingly, where the odd-indexed characters will be compared ascendingly, and the even-indexed characters will be compared descendingly.\n\nA string a occurs before a string b in asc-desc-ending order if and only if in the first position where a and b differ, the following holds:\n\n  * if it is an odd position, the string a has a letter that appears earlier in the alphabet than the corresponding letter in b; \n  * if it is an even position, the string a has a letter that appears later in the alphabet than the corresponding letter in b. Write a function to perform the aforementioned asc-desc-ending sorting. The function must receive two integers n and m (1 \u2264 n \u22c5 m \u2264 10^6), as well as a list, with n strings of length m. The function must return a list of integers, corresponding to the indices of the strings, starting at 1, after they are sorted asc-desc-endingly.", "response": "\ndef asc_desc_sort(n, m, books):\n    # Create a list of tuples (index, book)\n    books_with_indices = list(enumerate(books, 1))\n\n    # Define a custom sorting function\n    def sort_key(x):\n        index, book = x\n        # Iterate over the characters in the book\n        for i in range(m):\n            # If the character is at an odd position, compare ascendingly\n            if i % 2 == 0:\n                if book[i] < books[index - 1][i]:\n                    return -1\n                elif book[i] > books[index - 1][i]:\n                    return 1\n            # If the character is at an even position, compare descendingly\n            else:\n                if book[i] > books[index - 1][i]:\n                    return -1\n                elif book[i] < books[index - 1][i]:\n                    return 1\n        # If all characters are the same, return the index\n        return index\n\n    # Sort the list of tuples using the custom sorting function\n    books_with_indices.sort(key=sort_key)\n\n    # Return the list of indices\n    return [index for index, book in books_with_indices]\n\nn, m = map(int, input().split())\nbooks = [input() for _ in range(n)]\nresult = asc_desc_sort(n, m, books)\nprint(*result)\n"}
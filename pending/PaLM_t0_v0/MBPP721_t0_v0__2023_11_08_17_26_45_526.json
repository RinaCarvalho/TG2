{"prompt": "For a given matrix, where each cell is associated with a cost, write a function to find the average cost of the path with the maximum average over all existing paths. A path is defined as a sequence of cells that starts from the top-left cell, moving only right or down, and ending on the bottom right cell. The average is computed as the total cost divided by the number of cells visited in the path. The function must receive a list of lists as input and return a number.", "response": "\ndef max_avg_path(matrix):\n    # Initialize the memoization table\n    memo = {}\n\n    # Define the recursive function to calculate the maximum average path\n    def max_avg_path_helper(i, j):\n        # Check if the subproblem has already been solved\n        if (i, j) in memo:\n            return memo[(i, j)]\n\n        # Base case: if we have reached the bottom-right cell, return the cost\n        if i == len(matrix) - 1 and j == len(matrix[0]) - 1:\n            return matrix[i][j]\n\n        # Calculate the maximum average path by exploring the right and down directions\n        right_avg = (matrix[i][j] + max_avg_path_helper(i, j + 1)) / 2\n        down_avg = (matrix[i][j] + max_avg_path_helper(i + 1, j)) / 2\n\n        # Store the maximum average path in the memoization table\n        memo[(i, j)] = max(right_avg, down_avg)\n\n        # Return the maximum average path\n        return memo[(i, j)]\n\n    # Call the recursive function to calculate the maximum average path\n    max_avg = max_avg_path_helper(0, 0)\n\n    # Return the maximum average path\n    return max_avg\n"}
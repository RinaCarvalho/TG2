{"prompt": "For a given matrix, write a fuction to check if the matrix is a magic square. The function must receive a list of lists and return a bkolean.", "response": "def is_magic_square(matrix):\n    size = len(matrix)\n    target_sum = sum(matrix[0])\n\n    # Check rows\n    for row in matrix:\n        if sum(row) != target_sum:\n            return False\n\n    # Check columns\n    for col in range(size):\n        column_sum = 0\n        for row in range(size):\n            column_sum += matrix[row][col]\n        if column_sum != target_sum:\n            return False\n\n    # Check diagonals\n    diagonal_sum_1 = 0\n    diagonal_sum_2 = 0\n    for i in range(size):\n        diagonal_sum_1 += matrix[i][i]\n        diagonal_sum_2 += matrix[i][size - i - 1]\n    if diagonal_sum_1 != target_sum or diagonal_sum_2 != target_sum:\n        return False\n\n    return True"}
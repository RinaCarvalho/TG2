{
    "prompt": "The following `fix_xml_ampersands` function and docstring refer to a utility function to replace all lone \"&\" characters from a given xml string by \"&amp;\", in the context of a project to download videos from video hosting services, such as Youtube. The function is as follows: ```def fix_xml_ampersands(xml_str):\n    \"\"\"Replace all lone '&' characters by '&amp;' in XML\"\"\"\n    pass```. Complete the function, having it return the replaced xml string.\n\nExamples:\n\nInput: &x=y&z=a\nOutput: \"&amp;x=y&amp;z=a\n\nInput: &amp\nOutput: &amp;",
    "response": "import re\n\ndef fix_xml_ampersands(xml_str):\n    \"\"\"Replace all lone '&' characters by '&amp;' in XML\"\"\"\n    return re.sub(r'&(?!(?:[a-z]+|#[0-9]+|#x[0-9a-fA-F]+);)', '&amp;', xml_str)",
    "test_results": "Test failed: result \"&amp;x=y&wrong;&amp;z=a != \"&amp;x=y&amp;wrong;&amp;z=a (expected)"
}